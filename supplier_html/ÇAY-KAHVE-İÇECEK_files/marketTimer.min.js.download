$(document).ready(function(){0<$(".marketInformation").length&&(null!=$.cookie("UlkeVal")&&null!=$.cookie("SehirVal")&&null!=$.cookie("IlceVal")&&null!=$.cookie("SemtVal")&&($("#selectedRegion").html($.cookie("UlkeVal")+">"+$.cookie("SehirVal")+">"+$.cookie("IlceVal")+">"+$.cookie("SemtVal")),$("#selectedRegion").attr("selected-region",$.cookie("selectedRegion"))),null!=$.cookie("teslimatZaman")&&$("#teslimatZaman").text($.cookie("teslimatZaman")))}),$(document).on("click","#selectedRegion",function(){0<$("#regionModal").length&&$("#regionModal").modal("show")}),$(document).on("click","#teslimatZaman",function(){""!=$("#selectedRegion").attr("selected-region")&&getMarketDaysFront($("#selectedRegion").attr("selected-region"))}),$("#regionModal").on("shown.bs.modal",function(){getCities()});var TumList=null;function getCities(){model.getMarketFullAddress(function(e){ulkeDoldur((TumList=e.data.Sehirler).filter(function(e){return null==e.UlkeId&&null==e.SehirID&&null==e.IlceID&&e}))},{})}function ulkeDoldur(e){var o=[];o.push("<option id='0'>Ülke Seçiniz</option>"),$.each(e,function(e,t){o.push("<option id='"+t.ID+"' data-val='"+t.Ad+"'>"+t.Ad+"</option>")}),$("#_ulke select").html(o.join("")),null==$.cookie("UlkeVal")&&null==$.cookie("UlkeVal")||($('#_ulke select option[data-val="'+$.cookie("UlkeVal")+'"]').attr("selected","true"),$("#_ulke select").trigger("change"))}function sehirDoldur(t){var e=TumList.filter(function(e){return e.UlkeId==t&&e}),o=[];o.push("<option id='0'>Şehir Seçiniz</option>"),$.each(e,function(e,t){o.push("<option id='"+t.ID+"' data-val='"+t.Ad+"'>"+t.Ad+"</option>")}),$("#_sehir select").html(o.join("")),null==$.cookie("SehirVal")&&null==$.cookie("SehirVal")||($('#_sehir select option[data-val="'+$.cookie("SehirVal")+'"]').attr("selected","true"),$("#_sehir select").trigger("change"))}function ilceDoldur(t){var e=TumList.filter(function(e){return e.SehirID==t&&e}),o=[];o.push("<option id='0'>İlçe Seçiniz</option>"),$.each(e,function(e,t){o.push("<option id='"+t.ID+"' data-val='"+t.Ad+"'>"+t.Ad+"</option>")}),$("#_ilce select").html(o.join("")),null==$.cookie("IlceVal")&&null==$.cookie("IlceVal")||($('#_ilce select option[data-val="'+$.cookie("IlceVal")+'"]').attr("selected","true"),$("#_ilce select").trigger("change"))}function semtDoldur(t){var e=TumList.filter(function(e){return e.IlceID==t&&e}),o=[];o.push("<option id='0'>Semt Seçiniz</option>"),$.each(e,function(e,t){o.push("<option id='"+t.ID+"' data-val='"+t.Ad+"'>"+t.Ad+"</option>")}),$("#_semt select").html(o.join("")),null==$.cookie("SemtVal")&&null==$.cookie("SemtVal")||($('#_semt select option[data-val="'+$.cookie("SemtVal")+'"]').attr("selected","true"),$("#_semt select").trigger("change"))}function getRegion(e){var t={SelectedSemt:e};model.getMarketBolge(function(e){1==e.status?(getMarketDaysFront(e.data),$("#selectedRegion").html($.cookie("UlkeVal")+">"+$.cookie("SehirVal")+">"+$.cookie("IlceVal")+">"+$.cookie("SemtVal")).attr("selected-region",e.data),$.cookie("selectedRegion",e.data)):swal({title:"",text:e.message,type:"error",timer:3e3})},t)}function getMarketDaysFront(e){var t;""!=e?(t={SelectedRegion:e},model.getMarketDaysFront(function(e){var t;1==e.status?($("#marketTimeListModal .modal-body").html(e.data),$("#marketTimeListModal").modal("show"),t=$("#marketTimeListModal .saatItem:not([disabled])").first().parents("li").find("span").text()+" "+$("#marketTimeListModal .saatItem:not([disabled])").first().attr("data-text"),$("#marketTimeListModal .saatItem:not([disabled])").first().css({color:"#00c022","box-shadow":"inset rgb(0 192 34) 0px 0px 0 2px"}),$(".mobilePoint #marketTimeListModal ul").width(100*$("#marketTimeListModal ul>li").length),$(".mobilePoint #marketTimeListModal .modal-body").css({"overflow-x":"auto","white-space":"nowrap"}),$("#teslimatZaman").text(t),$.cookie("teslimatZaman",t)):swal({title:"",text:e.message,type:"error",timer:3e3})},t)):0<$("#regionModal").length&&$("#regionModal").modal("show")}$(document).on("change","#_ulke select",function(){var e=$("option:selected",this).attr("id"),t=$("option:selected",this).val();$.cookie("UlkeVal",t),sehirDoldur(e)}),$(document).on("change","#_sehir select",function(){var e=$("option:selected",this).attr("id"),t=$("option:selected",this).val();$.cookie("SehirVal",t),ilceDoldur(e)}),$(document).on("change","#_ilce select",function(){var e=$("option:selected",this).attr("id"),t=$("option:selected",this).val();$.cookie("IlceVal",t),semtDoldur(e)}),$(document).on("change","#_semt select",function(){var e=$("option:selected",this).val();$.cookie("SemtVal",e)}),$(document).on("click",".regionSubmitBtn",function(){$("#regionModal").modal("hide"),null!=$.cookie("SemtVal")||null!=$.cookie("SemtVal")?getRegion($.cookie("SemtVal")):swal({title:"",text:"Semt tanımı seçmelisiniz.\n Adres tanımınız semt bilgisi içermiyorsa, bulunduğunuz bölgeye teslimat yapılmıyor olabilir.",type:"error",timer:5e3})});